if (self.CavalryLogger) { CavalryLogger.start_js(["JNM8Neb"]); }

__d("CometFriendRequestsFeedUnitStrategy_feedUnit$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],b={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:a,storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},e=[{kind:"Literal",name:"site",value:"comet"}],f={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},g={kind:"Variable",name:"scale",variableName:"scale"},h={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},i=[h],j={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},k={kind:"TypeDiscriminator",abstractKey:"__isNFXAction"};h={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null};var l={alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometFriendRequestsFeedUnitStrategy_feedUnit$normalization",selections:[b,c,d,{alias:null,args:null,concreteType:"FriendRequestsFeedUnitItem",kind:"LinkedField",name:"friend_requests",plural:!0,selections:[d,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile",plural:!1,selections:[c,{alias:"profile_uri",args:e,kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},f,{alias:null,args:null,kind:"ScalarField",name:"friendship_status",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:230},g,{kind:"Literal",name:"width",value:230}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"social_context",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"social_context_top_mutual_friends",plural:!0,selections:[c,f,{alias:null,args:e,kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:null,args:[{kind:"Literal",name:"height",value:16},g,{kind:"Literal",name:"width",value:16}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:i,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"TombstoneFeedUnit",kind:"LinkedField",name:"tombstone_feedunit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden_from_client",storageKey:null},{alias:null,args:null,concreteType:"Tombstone",kind:"LinkedField",name:"tombstone",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"group_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"author_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"executed_action",plural:!1,selections:[j,k,h,l,m,c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canUndo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_loading",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"negativeFeedbackActionID",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"DeletedPostTombstoneContent",kind:"LinkedField",name:"deleted_post_tombstone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"member_stats_text",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tombstone_actions",plural:!0,selections:[j,{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"support_action",plural:!1,selections:[j,k,b,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:a,storageKey:null},l,m,h,c],storageKey:null}],storageKey:null}],storageKey:null}]}]}}();e.exports=a}),null);
__d("CometFriendRequestsFeedUnitStrategy_feedUnit.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFriendRequestsFeedUnitStrategy_feedUnit",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"FriendingCometFeedFriendRequestsHScroll_feedUnit"}],type:"FriendRequestsFeedUnit",abstractKey:null};e.exports=a}),null);
__d("FriendingCometFeedFriendRequestsHScroll_feedUnit.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FriendingCometFeedFriendRequestsHScroll_feedUnit",selections:[a,b,{alias:null,args:null,concreteType:"FriendRequestsFeedUnitItem",kind:"LinkedField",name:"friend_requests",plural:!0,selections:[b,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile",plural:!1,selections:[a,{alias:"profile_uri",args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{args:null,kind:"FragmentSpread",name:"FriendingCometFriendRequestsCard_user"}],storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"TombstoneFeedUnit",kind:"LinkedField",name:"tombstone_feedunit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden_from_client",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedTombstoneFactory_tombstoneFeedUnit"}],storageKey:null}]}],type:"FriendRequestsFeedUnit",abstractKey:null}}();e.exports=a}),null);
__d("CometUFIReactionsCountTooltipContentQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"feedbackTargetID"}],b=[{kind:"Variable",name:"id",variableName:"feedbackTargetID"}],c={alias:null,args:null,concreteType:"ReactionDisplayConfig",kind:"LinkedField",name:"reaction_display_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_display_strategy",storageKey:null}],storageKey:null},d=[{kind:"Literal",name:"first",value:19},{kind:"Literal",name:"orderby",value:["is_viewer","is_viewer_friend","importance"]}],e={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIReactionsCountTooltipContentQuery",selections:[{alias:null,args:b,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[c,{alias:null,args:d,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[e],storageKey:null}],storageKey:'reactors(first:19,orderby:["is_viewer","is_viewer_friend","importance"])'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIReactionsCountTooltipContentQuery",selections:[{alias:null,args:b,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[c,{alias:null,args:d,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e,f],storageKey:null}],storageKey:'reactors(first:19,orderby:["is_viewer","is_viewer_friend","importance"])'},f],storageKey:null}]},params:{id:"3777616805689061",metadata:{},name:"CometUFIReactionsCountTooltipContentQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("FeedFriendRequestConfirmFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743621");c=b("FalcoLoggerInternal").create("feed_friend_request_confirm",a);e.exports=c}),null);
__d("FeedFriendRequestDeleteFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743622");c=b("FalcoLoggerInternal").create("feed_friend_request_delete",a);e.exports=c}),null);
__d("FeedFriendRequestImpFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743623");c=b("FalcoLoggerInternal").create("feed_friend_request_imp",a);e.exports=c}),null);
__d("FeedFriendRequestProfileFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743624");c=b("FalcoLoggerInternal").create("feed_friend_request_profile",a);e.exports=c}),null);
__d("FriendingCometFeedFriendRequestsHScroll.react",["fbt","CometFeedHScrollComponent.react","CometFeedStoryMenuSection.react","CometHScroll.react","CometPlaceholder.react","CometRelay","FeedFriendRequestConfirmFalcoEvent","FeedFriendRequestDeleteFalcoEvent","FeedFriendRequestImpFalcoEvent","FeedFriendRequestProfileFalcoEvent","FriendingCometFeedFriendRequestsHScroll_feedUnit.graphql","FriendingCometFriendRequestsCard.react","FriendingCometHScrollEndCard.react","FriendingCometProfileRedirectUriBuilder","TetraText.react","XCometFriendingControllerRouteBuilder","deferredLoadComponent","gkx","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useCallback,l=150,m=c("deferredLoadComponent")(c("requireDeferred")("CometCard.react").__setRef("FriendingCometFeedFriendRequestsHScroll.react")),n=c("deferredLoadComponent")(c("requireDeferred")("CometFeedTombstoneFactory.react").__setRef("FriendingCometFeedFriendRequestsHScroll.react"));function a(a){var e,f=d("CometRelay").useFragment(i!==void 0?i:i=b("FriendingCometFeedFriendRequestsHScroll_feedUnit.graphql"),a.feedUnit),g=(e=f==null?void 0:f.tracking)!=null?e:"",o=k(function(a){return function(){c("FeedFriendRequestProfileFalcoEvent").log(function(){return{tracking:[a,g]}})}},[g]),p=k(function(a){return function(){c("FeedFriendRequestConfirmFalcoEvent").log(function(){return{tracking:[a,g]}})}},[g]),q=k(function(a){return function(){c("FeedFriendRequestDeleteFalcoEvent").log(function(){return{tracking:[a,g]}})}},[g]),r=k(function(a){return function(){c("FeedFriendRequestImpFalcoEvent").log(function(){var b={};b[a]=g;return{tracking:b}})}},[g]);e=f==null?void 0:f.tombstone_feedunit;if((e==null?void 0:e.is_hidden_from_client)===!0&&e!=null)return j.jsx("div",{children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(m,{background:"white",dropShadow:1,children:j.jsx(n,{tombstoneFeedUnit:e})})})});e=f==null?void 0:f.friend_requests;e=e.map(function(a){var b=a==null?void 0:a.profile;a=(a=a==null?void 0:a.tracking)!=null?a:"";var e=d("FriendingCometProfileRedirectUriBuilder").getFriendRequestsProfileUri(b==null?void 0:b.id,b==null?void 0:b.profile_uri);return b!=null?j.jsx(d("CometHScroll.react").Child,{children:j.jsx(c("FriendingCometFriendRequestsCard.react"),{confirmButtonReduceEmphasis:!c("gkx")("1877293"),logClick:o(a),logConfirm:p(a),logDelete:q(a),logImpression:r(a),profileURI:e,responseRef:"newsfeed_friend_requests",user:b})},b.id):null}).filter(Boolean);e.push(j.jsx(d("CometHScroll.react").Child,{children:j.jsx(c("FriendingCometHScrollEndCard.react"),{sourceRef:"FEED_FRIEND_REQUESTS_SEE_ALL"})},"feed_friend_requests_see_all"));var s=h._("Pedidos de amizade");return j.jsx(c("CometFeedHScrollComponent.react"),{accessibilityLabel:s,button:{linkProps:{passthroughProps:{ref:"FEED_FRIEND_REQUESTS_SEE_ALL"},url:c("XCometFriendingControllerRouteBuilder").buildURL({})},title:a.ctaTitle},cardWidth:{minWidth:l,type:"responsive"},title:j.jsxs("div",{className:"i1fnvgqd j83agx80 bp9cbjyn",children:[j.jsx(c("TetraText.react"),{color:"secondary",type:"headlineEmphasized3",children:a.title}),j.jsx(c("CometFeedStoryMenuSection.react"),{feedLocation:"NEWSFEED",id:f==null?void 0:f.id,serializedFRTPIdentifiers:null,storyDebugInfo:null})]}),children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFriendRequestsFeedUnitStrategy.react",["fbt","CometFriendRequestsFeedUnitStrategy_feedUnit.graphql","CometRelay","FriendingCometFeedFriendRequestsHScroll.react","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");function a(a){var e;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometFriendRequestsFeedUnitStrategy_feedUnit.graphql"),a.feedUnit);e=a==null?void 0:(e=a.title)==null?void 0:e.text;if(e==null)throw c("unrecoverableViolation")("title cannot be nullish in CometFriendRequestsFeedUnitStrategy","growth_friending");return j.jsx(c("FriendingCometFeedFriendRequestsHScroll.react"),{ctaTitle:h._("Ver tudo"),feedUnit:a,title:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LWIURIBuilderUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return btoa(JSON.stringify(a))}f.encodeSpecOverride=a}),66);
__d("CometUFIReactionsCountTooltipContent.react",["CometRelay","CometUFIReactionsCountTooltipContentQuery.graphql","CometUFITooltipNamesList.react","orEmptyArray","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("CometUFIReactionsCountTooltipContentQuery.graphql");function a(a){var b=a.queryVariables,e=a.reactionCount;a=a.shownCount;b=d("CometRelay").useLazyLoadQuery(j,b,{fetchKey:a,fetchPolicy:"store-and-network"});a=b.feedback;b=c("orEmptyArray")(a==null?void 0:(b=a.reactors)==null?void 0:b.nodes).map(function(a){return a.name}).filter(Boolean);a=(a==null?void 0:(a=a.reaction_display_config)==null?void 0:a.reaction_display_strategy)==="HIDE_COUNTS";return i.jsx(c("CometUFITooltipNamesList.react"),{hideReactionCount:a,names:b,testid:void 0,totalCount:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("interaction-tracing-sync-cancel",["JSScheduler","MemoryUtils","NetworkStatus","Promise","QuickLogActionType","Run","clearTimeout","gkx","hero-tracing","hero-tracing-placeholder","interaction-tracing-metrics","one-trace","performance","performanceNavigationStart","performanceNow","regeneratorRuntime","setTimeoutAcrossTransitions","uuid","vc-tracker"],(function(a,b,c,d,e,f){"use strict";var g,h,i=document.visibilityState!==void 0||document.hidden!==void 0;function j(){if(i)return document.visibilityState!==void 0?document.visibilityState==="hidden":document.hidden;else return!1}var k=1e3,l=[],m=null;f=!1;var n=new Set();f||(j()&&(m=0),f=!0);i&&document.addEventListener("visibilitychange",function(a){var c=(a=a===null||a===void 0?void 0:a.timeStamp)!==null&&a!==void 0?a:(g||(g=b("performanceNow")))();o(c,j());n.forEach(function(a){a(c,j())})});function o(a,b){b?m=a:m!=null&&(l.push({start:m,end:a}),l.length>k&&l.shift(),m=null)}function p(a,c){var d=[];l.concat(m!=null?[{start:m,end:(g||(g=b("performanceNow")))()}]:[]).forEach(function(b){b.start<=a&&b.end>a?b.end<=c?d.push({start:a,end:b.end}):d.push({start:a,end:c}):b.start>a&&b.start<=c&&(b.end<=c?d.push({start:b.start,end:b.end}):d.push({start:b.start,end:c}))});return d}function q(a,b){var c=0;a=p(a,b);a.forEach(function(a){c+=a.end-a.start});return c}function r(a,b){a=q(a,b);return a>0}var s=b("performanceNavigationStart")(),t=/^((server_)?adp_|Relay_)/,u=new RegExp(/^late_mutation\/(un)?expected_([0-9]+)$/),v=new Set(["HeroTracing","GraphAPI","FluxAction","Debug","Longtask"]),w=4;function x(a,b,c,d){a.QuickPerformanceLogger.markerAnnotate(b,{"int":{numReactCommit:c.size}},{instanceKey:d})}function y(a,b,c,d,e){a.QuickPerformanceLogger.markerAnnotate(b,{string:(a={},a[c]=d,a)},{instanceKey:e})}function z(a,b,c,d,e){a.QuickPerformanceLogger.markerAnnotate(b,{"int":(a={},a[c]=d,a)},{instanceKey:e})}function A(a,b,c,d,e){a.QuickPerformanceLogger.markerAnnotate(b,{bool:(a={},a[c]=d,a)},{instanceKey:e})}function B(a,b,c,d,e){a.QuickPerformanceLogger.markerAnnotate(b,{string_array:(a={},a[c]=d,a)},{instanceKey:e})}function C(a,b,c,d,e,f){a.QuickPerformanceLogger.markerPoint(b,c,{data:d!=null?{string:{__key:d}}:null,instanceKey:e,timestamp:f})}function D(a,b,c,d){for(var e in c.metadata){var f=c.metadata[e];typeof f==="string"?y(a,b,e,f,d):typeof f==="number"?z(a,b,e,f,d):typeof f==="boolean"&&A(a,b,e,f,d)}for(var g in c.tagSet){f=Array.from(c.tagSet[g]).sort();B(a,b,g,f,d)}}function E(b,c,d,e,a){for(var f in d){var g=d[f],h=g.data,i=g.timestamp;g=g.type;if(v.has(g)||a.exec(f))continue;g=h;u.test(f)&&f!=="late_mutation/unexpected_1"&&h!==null&&h!==void 0&&h.reactStack&&(g=F(d[f],["reactStack"]));C(b,c,f,g&&Object.keys(g).length?JSON.stringify(g):void 0,e,i+s)}}function F(a,b){a=a.data;var c=a!=null?JSON.parse(JSON.stringify(a)):null;c!=null&&b.forEach(function(a){return delete c[a]});return c}function G(b,c,d,e,a){for(var f in d){if(a.exec(f))continue;for(var g=0;g<d[f].length;g++){var h=d[f][g],i=h.data,j=h.end,k=h.start;h=h.type;if(v.has(h))continue;h=d[f].length===1?f:f+"_"+(g>=w?"MAX":g+1);C(b,c,h+"_start",void 0,e,k+s);C(b,c,h+"_end",Object.keys(i).length?JSON.stringify(i):void 0,e,j+s)}}}function H(a,b,c,d){a.QuickPerformanceLogger.markerStart(b,d,c+s)}function I(a,b,c,d,e,f){x(b,c,e.commitSet,f);D(b,c,e,f);E(b,c,e.markerPoints,f,t);G(b,c,e.subSpans,f,t);e=a.qplActionMap[d];b.QuickPerformanceLogger.markerEnd(c,e,f);return e}function a(a,c,d,e){var f=typeof window.qpl_inl==="function"?window.qpl_inl():{};f=f[d+"-server"];if(f){d=((h||(h=b("performance")))===null||(h||(h=b("performance")))===void 0?void 0:(h||(h=b("performance"))).timing)||{};var g=s;d.requestStart&&d.responseStart&&f.earlyFlush&&(g=(d.requestStart+d.responseStart-f.earlyFlush)/2);a.QuickPerformanceLogger.markerStart(c,0,g);D(a,c,e,0);d=0;for(var i in f)d=Math.max(d,f[i]),a.QuickPerformanceLogger.markerPoint(c,i,{timestamp:f[i]+g});a.QuickPerformanceLogger.markerEnd(c,b("QuickLogActionType").SUCCESS,0,d+g)}}function J(a,b,c){if(a.UserTimingUtils==null)return;b.markerPoints.visuallyComplete&&a.UserTimingUtils.measureModern("VisuallyComplete("+c+")["+b.traceId.slice(0,3)+"]",{end:b.markerPoints.visuallyComplete.timestamp,start:b.start},"VC");b.markerPoints.vcWithoutImage&&a.UserTimingUtils.measureModern("VCWithoutImage("+c+")["+b.traceId.slice(0,3)+"]",{end:b.markerPoints.vcWithoutImage.timestamp,start:b.start},"VCWithoutImage")}var K=b("vc-tracker").VisualCompletionConstants;function L(a,b,c){N(c),P(a,b,c),ca(c),da(c)}function M(a,b,c){var d=b.getReactComponentStackFromDOMElement;c.elements.forEach(function(b){if(a.logLateMutationReactStack&&d&&b.element&&(b.hadLateMutationExpected||b.hadLateMutationUnexpected)){var c=d(b.element);if(c!=null){var e=c.indexOf("HeroPagelet");e>=0&&c.splice(e);b.reactStack=c}}})}function N(a){var b=null;a.pagelets.forEach(function(a){a.name==="root"&&(b=a.mutationSeq)});a.elements.forEach(function(a){var c=a.pagelet;c!=null&&b!=null&&a.mutationSeq>b&&a.type==="component"&&(O(a)?(c.data.hadLateMutationExpected=1,a.hadLateMutationExpected=!0):(c.data.hadLateMutationUnexpected=1,a.hadLateMutationUnexpected=!0))})}function O(a){var b;return((b=a.pagelet)===null||b===void 0?void 0:b.excludeFromMainVC)||aa(a)}function aa(a){a=a.element;while(a){if(a.getAttribute(K.ATTRIBUTE_NAME)===K.IGNORE_LATE_MUTATION)return!0;a=a.parentElement}return!1}function P(a,b,c){M(a,b,c);a=10;b=0;var d=0,e=0;for(var f=c.elements.length-1;f>=0;f--){var g=c.elements[f];(g.hadLateMutationExpected||g.hadLateMutationUnexpected)&&(d+=g.hadLateMutationExpected?1:0,e+=g.hadLateMutationUnexpected?1:0,b=g.hadLateMutationExpected&&d+e>=a?1:0)}c.annotations.set("hadLateMutationExpected",d>0);c.annotations.set("hadLateMutationUnexpected",e>0);c.annotations.set("lmCountExpected",d);c.annotations.set("lmCountUnexpected",e);g=a-e-b;f=[];var h;b=!1;var i=1;d=1;e=1;for(var j=c.elements.length-1;j>=0;j--){var k=c.elements[j];if(k.hadLateMutationUnexpected||k.hadLateMutationExpected){var l={hadLateMutationExpected:k.hadLateMutationExpected,hadLateMutationUnexpected:k.hadLateMutationUnexpected,mutationType:k.mutationType,type:k.type,height:k.rectangle.bottom-k.rectangle.top,width:k.rectangle.right-k.rectangle.left};k.element&&(l.tagName=k.element.tagName);k.pagelet&&(l.pagelet=k.pagelet.name);!b&&k.hadLateMutationUnexpected&&(l.reactStack=k.reactStack,b=!0);h={markerPointData:l,markerPointTitle:ba(l,k.hadLateMutationUnexpected?e:d),element:k,timestamp:k.latency};(d<=g||k.hadLateMutationUnexpected)&&i<a&&(k.hadLateMutationUnexpected?e++:d++,f.push(h),i++)}}h&&i===a&&f.push(h);l=f.length;if(l>1){k=f[l-1];k.markerPointData.reactStack=k.element.reactStack}f.forEach(function(a){return c.markerPoints.set(a.markerPointTitle,{data:a.markerPointData,timestamp:a.timestamp})})}function ba(a,b){return"late_mutation/"+(a.hadLateMutationUnexpected?"unexpected":"expected")+"_"+b}function ca(a){var b=a.pagelets.reduce(function(a,b){return"firstPaint"in b.points?Math.min(a,b.points.firstPaint):a},Number.MAX_SAFE_INTEGER);b!=Number.MAX_SAFE_INTEGER&&a.annotations.set("progressiveRenderCost",a.vcWithoutImage-b)}function da(a){var b=a.pagelets.reduce(function(a,b){return"firstPaint"in b.points&&b.data.lateMutation?Math.min(a,b.points.firstPaint):a},Number.MAX_SAFE_INTEGER),c=a.pagelets.reduce(function(a,b){return"vcWithoutImage"in b.points&&b.data.lateMutation?Math.max(a,b.points.vcWithoutImage):a},Number.MIN_SAFE_INTEGER);b!==Number.MAX_SAFE_INTEGER&&c!==Number.MIN_SAFE_INTEGER&&a.annotations.set("SsrPageletLmCost",c-b)}var Q=b("performanceNavigationStart")(),R=new Set(),S,T=null,U=new Set(),ea=1;function fa(a,b){if(typeof window.qpl_tag==="function"){b.tagSet.CometTags||(b.tagSet.CometTags=new Set());var c=b.type==="INITIAL_LOAD"||b.type==="NAVIGATION",d=b.tagSet.CometTags;b=window.qpl_tag();b&&b.length&&b.forEach(function(b){b&&b.length&&b.forEach(function(b){d.add(b),c&&a.VisualCompletion&&a.VisualCompletion.addTag("CometTags",b)})})}}function ga(c,d,e,f,g){var a=p(d,e);b("interaction-tracing-metrics").InteractionTracingMetricsCore.addHiddenTiming(c,a);a.length>0&&b("interaction-tracing-metrics").InteractionTracingMetricsCore.addMarkerPoint(c,"backgrounded","AppTiming",a[0].start);f.metadata.hidden===void 0&&g.addMetadata("hidden",r(d,e))}function ha(a,c){var d;d=(d=c.completed)!==null&&d!==void 0?d:(g||(g=b("performanceNow")))();var e=c.markerPoints.visuallyComplete?c.markerPoints.visuallyComplete.timestamp:d,f=[],h=null;a.forEach(function(a){!a.isOnline?(h=a.timestamp,h<e&&(c.wasOffline=!0)):h!=null&&(f.push({end:a.timestamp,start:h}),h=null)});h!=null&&f.push({end:d,start:h});b("interaction-tracing-metrics").InteractionTracingMetricsCore.addOfflineTiming(c.traceId,f)}function ia(a,c,d){var e;d.interactionClass&&c.addMetadata("interactionClass",d.interactionClass);var f=d.start;e=(e=d.completed)!==null&&e!==void 0?e:(g||(g=b("performanceNow")))();ga(d.traceId,f,e,d,c);c.addMetadata("navStartOffset",d.start);if(a.getMetadata){var h=a.getMetadata();Object.keys(h).forEach(function(a){c.addMetadata(a,h[a])})}a.pkgCohort!=null&&c.addMetadata("pkg_cohort",a.pkgCohort)}function ja(a){var c=a.traceId;a=b("hero-tracing-placeholder").HeroPendingPlaceholderTracker.dump(c);a.forEach(function(a){b("interaction-tracing-metrics").InteractionTracingMetricsCore.addTag(c,"pendingPlaceholder",a)})}function ka(a,b,c){var d=b.getReactComponentStackFromDOMElement;d&&a.logVCReactStack&&c.onBeforeComplete(function(a){a&&["vcWithoutImage","visuallyComplete"].forEach(function(b){b=a.markerPoints.get(b);if(b&&b.element){var c=d(b.element);if(c!=null){var e=c.indexOf("HeroPagelet");e>=0&&c.splice(e);e=b.data||{};e.reactStack=c;b.data=e}}})})}function la(a,c,d){d.onBeforeComplete(function(d){if(!d)return;b("gkx")("2594")?L(a,c,d):(P(a,c,d),ma(d),na(d))})}function ma(a){var b=a.pagelets.reduce(function(a,b){return"firstPaint"in b.points?Math.min(a,b.points.firstPaint):a},Number.MAX_SAFE_INTEGER);b!=Number.MAX_SAFE_INTEGER&&a.annotations.set("progressiveRenderCost",a.vcWithoutImage-b)}function na(a){var b=a.pagelets.reduce(function(a,b){return"firstPaint"in b.points&&b.data.lateMutation?Math.min(a,b.points.firstPaint):a},Number.MAX_SAFE_INTEGER),c=a.pagelets.reduce(function(a,b){return"vcWithoutImage"in b.points&&b.data.lateMutation?Math.max(a,b.points.vcWithoutImage):a},Number.MIN_SAFE_INTEGER);b!==Number.MAX_SAFE_INTEGER&&c!==Number.MIN_SAFE_INTEGER&&a.annotations.set("SsrPageletLmCost",c-b)}function oa(a,b){var c;(c=a.vcTracker)===null||c===void 0?void 0:c.onComplete(function(c){c&&(a.vcStateLog=c.stateLog,a.hasVcReport=!0,c.annotations.forEach(function(b,c){a.metadata[c]=b}),c.markerPoints.forEach(function(b,c){var d=b.data;b=b.timestamp;a.markerPoints[c]={data:d,timestamp:b+a.start,type:"VisualCompletion"}}),c.tagSet.forEach(function(a,c){a.forEach(function(a){b.addTag(c,a)})}))})}function V(a){return a.metadata.isError?"ERROR":a.wasOffline?"OFFLINE":a.metadata.cancelType==="timeout"?"TIMEOUT":a.wasCanceled||a.metadata.aborted?"CANCEL":"SUCCESS"}var pa=0,W=new Map(),X={checkAndMarkRevisit:function(a){if(a==null)return!1;var b=U.has(a);U.add(a);return b},getCurrentTabTracePolicy:function(){var a;return(a=T)!==null&&a!==void 0?a:"comet.app"},setCurrentTabTracePolicy:function(a){T=a},onStartInteraction:function(a){var b=pa++;W.set(b,a);return function(){W["delete"](b)}},startInteraction:function(a,c){c===void 0&&(c=function(){});var d=b("hero-tracing").HeroLogger.genHeroInteractionUUIDAndMarkStart(a.interactionID);return X.trace(a.cfg,a.deps,a.qplEvent,c,a.interactionClass,a.traceType,a.tracePolicy,d,a.startTime,a.eventQueueTime,a.debugName)},trace:function(a,c,d,e,f,h,i,j,k,l,m){j===void 0&&(j=b("uuid")());l===void 0&&(l=null);var n=k!==null&&k!==void 0?k:h==="INITIAL_LOAD"?0:(g||(g=b("performanceNow")))(),o=[],p=T,q=ea++,r=i,s=a.enableMemoryLogging?b("MemoryUtils").getCurrentMemory().usedJSHeapSize:null;S||(S=b("Run").onBeforeUnload(function(){R.forEach(function(a){a.cancelTrace("unload",!0)}),S&&S.remove(),S=null},!1));function t(a,d){return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(!(x!=null)){e.next=5;break}if(!(E.length>0)){e.next=4;break}e.next=4;return b("regeneratorRuntime").awrap(b("Promise").all(E));case 4:c.WebLoom.endTraceForInteraction(a,d);case 5:case"end":return e.stop()}},null,this)}var u={addGlobalMetadata:function(a,c){b("interaction-tracing-metrics").InteractionTracingMetricsCore.addGlobalMetadata(j,a,c)},addLoomTraceEndDependency:function(a){E.push(a)},addMarkerPoint:function(a,c,d){d===void 0&&(d=(g||(g=b("performanceNow")))()),b("interaction-tracing-metrics").InteractionTracingMetricsCore.addMarkerPoint(j,a,c,d)},addMetadata:function(a,c){b("interaction-tracing-metrics").InteractionTracingMetricsCore.addMetadata(j,a,c)},addTag:function(a,c){b("interaction-tracing-metrics").InteractionTracingMetricsCore.addTag(j,a,c)},cancelTrace:function(a,c){var d=b("interaction-tracing-metrics").InteractionTracingMetricsCore.get(j);if(!d||!R.has(u))return;d.completed==null&&(d.completed=(g||(g=b("performanceNow")))());ja(d);var e=[].concat(A);A.length=0;e.forEach(function(a){a(d)});u.addMetadata("cancelType",a);d.wasCanceled=!0;c?v(d,!0):b("JSScheduler").scheduleLoggingPriCallback(function(){v(d,!0)})},getTraceId:function(){return j},observeMutation:function(a){c.InteractionVC&&c.InteractionVC.observeMutation(j,a)},onComplete:function(a){z.push(a)},onCompleteSync:function(a){A.push(a)},onLog:function(a){B.push(a)},onBeforeLog:function(a){C.push(a)},onVcMetricsComplete:function(a){D.push(a)},setTracePolicy:function(a){if(a==null)return;b("one-trace").setTracePolicy(j,a);r=a;u.addMetadata("tracePolicy",r);if(x==null){a=c.WebLoom.maybeStartTraceForInteraction(j,f,d,r,n);x=a===null||a===void 0?void 0:a.traceReferenceId;y=a===null||a===void 0?void 0:a.loomProviders}a=b("interaction-tracing-metrics").InteractionTracingMetricsCore.get(j);a&&a.vcTracker&&a.vcTracker.setTracePolicy(r)}},v=function(e,f){var g;if(!R.has(u))return;fa(c,e);u.addMetadata("tracePolicy",(g=r)!==null&&g!==void 0?g:a.defaultTracePolicy);p!=null&&u.addMetadata("referrer",p);u.addMetadata("interactionId",j);if(s!=null){g=b("MemoryUtils").getCurrentMemory().usedJSHeapSize;g!=null&&(u.addMetadata("usedJSHeapSizeStart",s),u.addMetadata("usedJSHeapSizeEnd",g))}ia(a,u,e);c.VisualCompletion&&F!=null&&F();g=[].concat(z);z.length=0;g.forEach(function(a){a(e)});x!=null&&u.addMetadata("loomRefId",x);y!=null&&y.forEach(function(a){return u.addTag("loomProviders",a)});var i=function(){var f;if(!R.has(u))return;b("clearTimeout")(K);w.remove();R["delete"](u);ha(o,e);(f=c.HeroBootloadPerfStore)===null||f===void 0?void 0:f.addStaticResourcesStats(e);f=[].concat(C);C.length=0;f.forEach(function(a){a(e)});f=V(e);var g=I(a,c,d,f,e,q);e.qplAction=g;e.traceStatus=f;e.debugName=m;f=[].concat(B);B.length=0;f.forEach(function(a){a(e,V(e))});delete e.vcTracker;t(e,g);J(c,e,h)};g=e.vcTracker;g&&!e.hasVcReport?(g.onComplete(function(){i()}),f&&g.forceMeasurement()):i()};b("NetworkStatus").isOnline()||o.push({isOnline:!1,timestamp:(g||(g=b("performanceNow")))()});var w=b("NetworkStatus").onChange(function(a){o.push({isOnline:a.online,timestamp:(g||(g=b("performanceNow")))()})}),x,y;if(r!=null){k=c.WebLoom.maybeStartTraceForInteraction(j,f,d,r,n);x=k===null||k===void 0?void 0:k.traceReferenceId;y=k===null||k===void 0?void 0:k.loomProviders}H(c,d,n,q);var z=[],A=[],B=[],C=[],D=[],E=[],F=null;c.VisualCompletion&&(F=c.VisualCompletion.addTracedInteraction(h,j,d));b("one-trace").startTrace(j,i,h,n);var G=b("one-trace").subscribe("trace-end",function(a){if(a.traceType==="LONGTASK"||a.traceType==="INPUT_DELAY"){b("interaction-tracing-metrics").InteractionTracingMetricsCore.addSubspan(j,a.traceType,"Longtask",a.startTime,(a=a.endTime)!==null&&a!==void 0?a:(g||(g=b("performanceNow")))(),{})}});u.onLog(function(a,c){G();b("one-trace").endTrace(j,(c=a.completed)!==null&&c!==void 0?c:(g||(g=b("performanceNow")))(),V(a))});var K=b("setTimeoutAcrossTransitions")(function(){u.cancelTrace("timeout",!1)},a.timeout);k=function(a){if(!R.has(u))return;a.completed==null&&(a.completed=(g||(g=b("performanceNow")))());var c=[].concat(A);A.length=0;c.forEach(function(b){b(a)});if(a.type==="INITIAL_LOAD"&&document.readyState==="loading"){c=function c(){b("JSScheduler").scheduleLoggingPriCallback(function(){v(a,!1)}),document.removeEventListener("DOMContentLoaded",c)};document.addEventListener("DOMContentLoaded",c)}else b("JSScheduler").scheduleLoggingPriCallback(function(){v(a,!1)})};b("interaction-tracing-metrics").InteractionTracingMetricsCore.addTracedInteraction(j,n,k);b("interaction-tracing-metrics").InteractionTracingMetricsCore.setInteractionType(j,f,h,d);var L=b("interaction-tracing-metrics").InteractionTracingMetricsCore.get(j);switch(h){case"INITIAL_LOAD":if(c.VisualCompletion){i=c.VisualCompletion.traceNavigation(j,Q,"INITIAL_LOAD");L&&(L.vcTracker=i);a.useDocumentBodyForVCRoot===!0&&(i.observeMutation(window.document.body),i.registerNavigationMutationRoot(window.document.body))}break;case"NAVIGATION":R.forEach(function(d){var c=b("interaction-tracing-metrics").InteractionTracingMetricsCore.get(d.getTraceId());if(!a.navigationCancelsInteractions&&c&&c.type==="INTERACTION")return;d.cancelTrace("navigation",!1)});if(c.VisualCompletion){k=c.VisualCompletion.traceNavigation(j,Q+n,"NAVIGATION");L&&(L.vcTracker=k);a.useDocumentBodyForVCRoot===!0&&(k.observeMutation(window.document.body),k.registerNavigationMutationRoot(window.document.body))}break;case"INTERACTION":if(c.InteractionVC){i=c.InteractionVC.startVisualCompletionTrace(j,Q+n,h);L&&(L.vcTracker=i)}break}R.add(u);r!=null&&u.setTracePolicy(r);if(L&&L.vcTracker){k=L.vcTracker;ka(a,c,k);la(a,c,k);k.onComplete(function(a){var b=[].concat(D);D.length=0;a&&b.forEach(function(b){b(L,a)})});oa(L,u);a.setupVcTracker&&a.setupVcTracker(k)}e(u);W.forEach(function(a){return a(u)});if(l!=null){i=n;b("interaction-tracing-metrics").InteractionTracingMetricsCore.addSubspan(j,"EventQueued","DOMEventTiming",i,i+l,{})}return j},getPendingInteractions:function(){return new Set(R)}},Y=b("performanceNavigationStart")();function Z(a){var c,d=((h||(h=b("performance")))===null||(h||(h=b("performance")))===void 0?void 0:(h||(h=b("performance"))).timing)||{};c=((h||(h=b("performance")))===null||(h||(h=b("performance")))===void 0?void 0:(c=(h||(h=b("performance"))).navigation)===null||c===void 0?void 0:c.redirectCount)||0;b("interaction-tracing-metrics").InteractionTracingMetricsCore.addMetadata(a,"redirectCount",c);c=typeof (h||(h=b("performance"))).getEntriesByType==="function"?(h||(h=b("performance"))).getEntriesByType("navigation")[0]:null;c!==null&&c!==void 0&&c.nextHopProtocol&&b("interaction-tracing-metrics").InteractionTracingMetricsCore.addMetadata(a,"httpProtocol",c.nextHopProtocol);c!==null&&c!==void 0&&c.type?b("interaction-tracing-metrics").InteractionTracingMetricsCore.addMetadata(a,"navigationType",c.type):((c=(h||(h=b("performance"))).navigation)===null||c===void 0?void 0:c.type)!=null&&b("interaction-tracing-metrics").InteractionTracingMetricsCore.addMetadata(a,"navigationType",(h||(h=b("performance"))).navigation.type);for(var e in d)typeof d[e]==="number"&&d[e]>=Y&&b("interaction-tracing-metrics").InteractionTracingMetricsCore.addMarkerPoint(a,e,"NavigationTiming",d[e]-Y)}function qa(a){var c=document.referrer;if(typeof c==="string"){c=/^\w+:\/\/[^\/]+/.exec(c);c&&c[0]&&b("interaction-tracing-metrics").InteractionTracingMetricsCore.addMetadata(a,"referrer",c[0])}}function $(a,c){if(c!=null){X.setCurrentTabTracePolicy(c);c=X.checkAndMarkRevisit(c);c?b("interaction-tracing-metrics").InteractionTracingMetricsCore.addMetadata(a,"revisit",1):b("interaction-tracing-metrics").InteractionTracingMetricsCore.addMetadata(a,"revisit",0)}}function c(a,c){var d,e=(d=a.traceStartTime)!==null&&d!==void 0?d:(g||(g=b("performanceNow")))();return X.startInteraction(a,function(b){var d=b.getTraceId();$(d,a.tracePolicy);b.setTracePolicy(a.tracePolicy);b.addMarkerPoint("traceStart","AppTiming",e);b.onComplete(function(a){Z(d),qa(d)});c&&c(b)})}function d(a,b){return X.startInteraction(a,function(c){var d=c.getTraceId(),e=a.tracePolicy;$(d,a.tracePolicy);c.onComplete(function(a){Z(d)});var f=babelHelpers["extends"]({},c,{setTracePolicy:function(a){if(e==null){a=a;$(d,a);a!=null&&c.setTracePolicy(a)}}});b&&b(f)})}f={traceInitialLoad:c,traceNavigation:d};c={InteractionTracingCore:X,NavigationTracing:f,logServerTimings:a};e.exports=c}),null);